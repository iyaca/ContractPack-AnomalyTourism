// Contract for sending the very first tourist to an anomaly.
//   Author: iyaca

CONTRACT_TYPE
{
    name = AnomalyTourism_First
    group = AnomalyTourism

    sortKey = 00.FirstAnomaly

    title = Kick off anomaly tourism
    description = We've been offered an interesting opportunity.
    synopsis = Help Lola Kerman visit the nearby monolith.
    completedMessage = Lola's funds are going to spend very well!

    // Level 1 prestige
    prestige = Trivial

    targetBody = Kerbin

    agent = Kerbal Anomaly Tourism

    // Can only do this contract once
    maxCompletions = 1

    // Contract rewards
    rewardFunds = 2500.0
    rewardReputation = 0.5
    failureReputation = 20.0
    
    BEHAVIOUR
    {
        name = WaypointGenerator
        type = WaypointGenerator

        // Use this to generate a waypoint with fixed coordinates
        WAYPOINT
        {
            name = KSC Monolith

            targetBody = Kerbin

            icon = thermometer

            altitude = 0.0

            // TODO: Include coordinates for KSC monolith
            latitude = 0.1
            longitude = 0.1
        }
    }
    
    

    PARAMETER
    {
        name = VesselParameterGroup
        type = VesselParameterGroup

        PARAMETER
        {
            name = HasCrew
            type = HasCrew

            trait = Pilot
        }

        PARAMETER
        {
            name = HasPassengers
            type = HasPassengers
        }

        PARAMETER
        {
            name = VisitWaypoint
            type = VisitWaypoint

            index = 0

            distance = 100.0

        }
    }

    PARAMETER
    {
        name = RecoverKerbal
        type = RecoverKerbal

        completeInSequence = true
    }

    BEHAVIOUR
    {
        name = SpawnPassengers
        type = SpawnPassengers

        kerbal = NewKerbal(Female, "Lola Kerman")
    }

    BEHAVIOUR
    {
        name = Expression
        type = Expression

        CONTRACT_COMPLETED_SUCCESS
        {
            AnomalyTouristCount = 1
        }
    }

    REQUIREMENT
    {
        name = FirstLaunch
        type = FirstLaunch
    }

    REQUIREMENT
    {
        name = CompleteContract
        type = CompleteContract

        contractType = TourismContract
        invertRequirement = true

        title = Must not have completed an anomaly tourism contract
    }
}